"use strict";(self.webpackChunknelverse=self.webpackChunknelverse||[]).push([[5123],{5917:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>h,default:()=>m,frontMatter:()=>d,metadata:()=>a,toc:()=>p});const a=JSON.parse('{"id":"probability/gacha","title":"Gacha Calculator","description":"This comprehensive suite of interactive calculators helps you understand gacha systems and general gacha mechanics analysis.","source":"@site/labs/probability/gacha.mdx","sourceDirName":"probability","slug":"/probability/gacha-calculator","permalink":"/labs/probability/gacha-calculator","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Gacha Calculator","slug":"gacha-calculator"},"sidebar":"defaultSidebar","previous":{"title":"A/B Test Trial Simulation","permalink":"/labs/probability/abtest"},"next":{"title":"Kelly Criterion","permalink":"/labs/probability/kelly-criterion"}}');var i=n(74848),r=n(28453),s=n(78478),l=n(96540);function o(){const e=(0,l.useRef)(null),[t,a]=(0,l.useState)(.5),[r,s]=(0,l.useState)(1e3),[o,d]=(0,l.useState)(200),[h,u]=(0,l.useState)(!1),[p,x]=(0,l.useState)(80),[m,y]=(0,l.useState)(70),[g,j]=(0,l.useState)(!1),[b,f]=(0,l.useState)(50),v=(0,l.useMemo)((()=>{const e=[],n=c(t/100,r,!1,0,0,!1,0,o);if(e.push({name:"Base",data:n,color:"#3498db"}),h){const n=c(t/100,r,!0,m,p,!1,0,o);e.push({name:"Pity Adjusted",data:n,color:"#e74c3c"})}if(h&&g){const n=c(t/100,r,!0,m,p,!0,b/100,o);e.push({name:"Pity + Bernoulli",data:n,color:"#2ecc71"})}if(!h&&g){const n=c(t/100,r,!1,0,0,!0,b/100,o);e.push({name:"Bernoulli Adjusted",data:n,color:"#2ecc71"})}return e}),[t,r,o,h,p,m,g,b]),w=(0,l.useMemo)((()=>v.map((({name:e,data:t,color:n})=>{const a=Math.max(...t),i=new Array(a+1).fill(0);t.forEach((e=>{i[e]++}));const r=i.map((e=>e/t.length));return{x:i.map(((e,t)=>t)),y:r,type:"bar",name:e,marker:{color:n,opacity:.4},yaxis:"y"}}))),[v]);return(0,l.useEffect)((()=>{if(!e.current||0===w.length)return;n(84708).newPlot(e.current,w,{title:{text:"SSR Count Distribution",font:{size:16}},xaxis:{title:{text:"Intended SSR Count"},type:"linear"},yaxis:{title:{text:"Frequency"},type:"linear"},barmode:"overlay",margin:{t:60,r:10,b:60,l:50},showlegend:!0,legend:{x:.02,y:.98,bgcolor:"rgba(255,255,255,0.8)",bordercolor:"rgba(0,0,0,0.2)",borderwidth:1}},{responsive:!0,displayModeBar:!0,modeBarButtonsToRemove:["pan2d","lasso2d","select2d"]})}),[w]),(0,i.jsxs)("div",{style:{padding:"20px"},children:[(0,i.jsx)("h3",{children:"Gacha Probability Histogram"}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",marginBottom:"20px",padding:"15px",border:"1px solid #ddd",borderRadius:"8px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"Basic Parameters"}),(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsxs)("label",{children:["Base Probability (%): ",t,"%"]}),(0,i.jsx)("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:t,onChange:e=>a(parseFloat(e.target.value)),style:{width:"100%"}})]}),(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsxs)("label",{children:["Attempts: ",r]}),(0,i.jsx)("input",{type:"range",min:"100",max:"5000",step:"10",value:r,onChange:e=>s(parseInt(e.target.value)),style:{width:"100%"}})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{children:["Simulation Count: ",o]}),(0,i.jsx)("input",{type:"range",min:"50",max:"500",step:"50",value:o,onChange:e=>d(parseInt(e.target.value)),style:{width:"100%"}})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"Pity System"}),(0,i.jsx)("div",{style:{marginBottom:"15px"},children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",checked:h,onChange:e=>u(e.target.checked)}),"Pity Adjust"]})}),h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,i.jsxs)("label",{children:["Pity Peak: ",p]}),(0,i.jsx)("input",{type:"range",min:"10",max:"100",step:"1",value:p,onChange:e=>{const t=parseInt(e.target.value);x(t),t<m&&y(t)},style:{width:"100%"}})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{children:["Pity Start: ",m]}),(0,i.jsx)("input",{type:"range",min:"10",max:p,step:"1",value:m,onChange:e=>{const t=parseInt(e.target.value);y(t),t>p&&x(t)},style:{width:"100%"}})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"Bernoulli System"}),(0,i.jsx)("div",{style:{marginBottom:"15px"},children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",checked:g,onChange:e=>j(e.target.checked)}),"Bernoulli Adjust"]})}),g&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{children:["Bernoulli Probability (%): ",b,"%"]}),(0,i.jsx)("input",{type:"range",min:"1",max:"100",step:"1",value:b,onChange:e=>f(parseInt(e.target.value)),style:{width:"100%"}})]})]})]}),(0,i.jsx)("div",{ref:e,style:{width:"100%",height:"500px"}}),(0,i.jsxs)("div",{style:{marginTop:"20px"},children:[(0,i.jsx)("h4",{children:"Statistics"}),v.map((({name:e,data:t,color:n})=>{const a=t.reduce(((e,t)=>e+t),0)/t.length,r=t.reduce(((e,t)=>e+(t-a)**2),0)/t.length;return(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,i.jsxs)("span",{style:{color:n,fontWeight:"bold"},children:[e,":"]}),(0,i.jsxs)("span",{style:{marginLeft:"10px"},children:["Expected SSR: ",a.toFixed(2),", Variance: ",r.toFixed(2)]})]},e)}))]})]})}function c(e,t,n,a,i,r,s,l){const o=[];let c=[];n&&(c=function(e,t,n){const a=new Array(n+1).fill(0);a[0]=0;for(let i=1;i<t;i++)a[i]=e;if(t<n)for(let i=t;i<n;i++){const r=(i-t)/(n-t);a[i]=e+r*(1-e)}return a[n]=1,a}(e,a,i));for(let d=0;d<l;d++){let a=0,i=0;for(let l=1;l<=t;l++){let t=e;n&&i<c.length&&(t=c[i+1]),Math.random()<t?((!r||Math.random()<s)&&a++,i=0):i++}o.push(a)}return o}const d={title:"Gacha Calculator",slug:"gacha-calculator"},h=void 0,u={},p=[{value:"Cumulative Probability Chart",id:"cumulative-probability-chart",level:2},{value:"SSR Count Distribution",id:"ssr-count-distribution",level:2}];function x(e){const t={a:"a",admonition:"admonition",em:"em",h2:"h2",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"This comprehensive suite of interactive calculators helps you understand gacha systems and general gacha mechanics analysis."}),"\n",(0,i.jsxs)(t.admonition,{title:"Understanding the Pity System",type:"info",children:[(0,i.jsx)(t.p,{children:'The gacha system features a "soft pity" mechanism where drop rates increase significantly after certain thresholds, and a hard pity that guarantees a limited drop at threshold.'}),(0,i.jsx)(t.p,{children:"Using Genshin Impact as an example:"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Elite Characters"}),": Base rate 0.5%, soft pity starts at 75 draws, hard pity at 90 draws"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Elite Weapons"}),": Base rate 0.5%, soft pity starts at 65 draws, hard pity at 80 draws"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"50/50"}),": Meaning there is a 50% chance to get the event limited character."]}),"\n"]})]}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:"Example settings"}),(0,i.jsx)(t.p,{children:"The example parameters you will select for Genshin Impact will be:"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Pity Peak: 90"}),"\n",(0,i.jsx)(t.li,{children:"Pity Start: 75"}),"\n",(0,i.jsx)(t.li,{children:"Bernuolli Probability: 50"}),"\n"]}),(0,i.jsx)(t.p,{children:"Different games have different rates, example Bernuolli rate of 75/25 for HSR lightcones, or 100/0 for Wuthering Wave's weapon."})]}),"\n",(0,i.jsx)(t.h2,{id:"cumulative-probability-chart",children:"Cumulative Probability Chart"}),"\n",(0,i.jsx)(t.p,{children:"This chart shows how many attempts you need to reach specific probability thresholds for obtaining target copies."}),"\n",(0,i.jsxs)(t.admonition,{type:"info",children:[(0,i.jsx)(t.p,{children:'Suppose you intend to C6 a limited character from Genshin Impact, you will read the green line "Bernuolli + Pity adjust".'}),(0,i.jsx)(t.p,{children:"At default settings, it works out to ~1300 rolling attempts to have a 95% chance of maxing out your character."})]}),"\n",(0,i.jsx)(t.admonition,{title:"Migration Alert",type:"warning",children:(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.em,{children:["We have migrated the application to ",(0,i.jsx)(t.a,{href:"https://www.nelworks.com/labs/probability/gacha-calculator",children:"here"})]})})}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"ssr-count-distribution",children:"SSR Count Distribution"}),"\n",(0,i.jsxs)(t.p,{children:["This histogram shows the distribution of expected counts of the SSR ",(0,i.jsx)(t.strong,{children:"you want"})," from a given number of attempts."]}),"\n",(0,i.jsx)(s.A,{children:()=>(0,i.jsx)(o,{})})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>l});var a=n(96540);const i={},r=a.createContext(i);function s(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(r.Provider,{value:t},e.children)}},78478:(e,t,n)=>{n.d(t,{A:()=>r});n(96540);var a=n(92303),i=n(74848);function r({children:e,fallback:t}){return(0,a.A)()?(0,i.jsx)(i.Fragment,{children:e?.()}):t??null}}}]);